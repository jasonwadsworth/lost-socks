<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lost Sock</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Comic Sans MS', 'Arial', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      overflow: hidden;
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    #animation-container {
      width: 100%;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* Water puddle that grows - positioned directly under sock */
    #water-puddle {
      position: absolute;
      top: 58%;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      opacity: 0;
      will-change: transform, opacity;
      z-index: 1;
    }

    #water-puddle.growing {
      animation: puddleGrow 4.2s ease-out forwards;
    }

    @keyframes puddleGrow {
      0% {
        width: 0;
        height: 0;
        opacity: 0;
      }
      20% {
        width: 180px;
        height: 50px;
        opacity: 0.7;
      }
      50% {
        width: 450px;
        height: 90px;
        opacity: 0.8;
      }
      100% {
        width: 650px;
        height: 110px;
        opacity: 0.85;
      }
    }

    #title {
      color: #2c3e50;
      font-size: 5rem;
      font-weight: bold;
      text-align: center;
      position: absolute;
      top: 15%;
      opacity: 0;
      transform: translateY(-30px) scale(0.8);
      text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
      letter-spacing: 0.1em;
      z-index: 10;
    }

    #title.fade-in {
      animation: titleFadeIn 1.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes titleFadeIn {
      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    /* Speech bubble popup - positioned near sock like it's speaking */
    #speech-bubble {
      position: absolute;
      top: 38%;
      left: 58%;
      background: white;
      padding: 18px 22px;
      border-radius: 20px;
      border: 3px solid #333;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      font-size: 1.1rem;
      font-weight: bold;
      color: #333;
      max-width: 280px;
      line-height: 1.4;
      opacity: 0;
      transform: scale(0) rotate(-5deg);
      z-index: 10;
    }

    #speech-bubble.show {
      animation: popupAppear 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    /* Speech bubble tail pointing to the sock */
    #speech-bubble::before {
      content: '';
      position: absolute;
      left: -18px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-top: 15px solid transparent;
      border-bottom: 15px solid transparent;
      border-right: 20px solid white;
      filter: drop-shadow(-2px 0 2px rgba(0,0,0,0.1));
    }
    
    #speech-bubble::after {
      content: '';
      position: absolute;
      left: -21px;
      top: 50%;
      transform: translateY(-50%);
      width: 0;
      height: 0;
      border-top: 16px solid transparent;
      border-bottom: 16px solid transparent;
      border-right: 21px solid #333;
    }

    @keyframes popupAppear {
      0% {
        opacity: 0;
        transform: scale(0) rotate(-5deg);
      }
      70% {
        transform: scale(1.1) rotate(2deg);
      }
      100% {
        opacity: 1;
        transform: scale(1) rotate(0deg);
      }
    }

    #sock-wrapper {
      position: absolute;
      width: 250px;
      height: 300px;
      left: 50%;
      top: 50%;
      will-change: transform;
      z-index: 5;
    }

    /* Entry animations with squash and stretch */
    #sock-wrapper.enter-top {
      animation: enterFromTop 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    #sock-wrapper.enter-bottom {
      animation: enterFromBottom 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    #sock-wrapper.enter-left {
      animation: enterFromLeft 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    #sock-wrapper.enter-right {
      animation: enterFromRight 1.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    }

    @keyframes enterFromTop {
      0% { 
        transform: translate(-50%, -150vh) rotate(-20deg) scaleY(1.3) scaleX(0.8); 
      }
      60% { 
        transform: translate(-50%, -60%) rotate(5deg) scaleY(1.2) scaleX(0.85); 
      }
      75% { 
        transform: translate(-50%, -50%) rotate(8deg) scaleY(0.7) scaleX(1.3); 
      }
      85% { 
        transform: translate(-50%, -45%) rotate(-3deg) scaleY(1.15) scaleX(0.9); 
      }
      100% { 
        transform: translate(-50%, -50%) rotate(0deg) scale(1); 
      }
    }

    @keyframes enterFromBottom {
      0% { 
        transform: translate(-50%, 150vh) rotate(20deg) scaleY(1.3) scaleX(0.8); 
      }
      60% { 
        transform: translate(-50%, -40%) rotate(-5deg) scaleY(1.2) scaleX(0.85); 
      }
      75% { 
        transform: translate(-50%, -50%) rotate(-8deg) scaleY(0.7) scaleX(1.3); 
      }
      85% { 
        transform: translate(-50%, -45%) rotate(3deg) scaleY(1.15) scaleX(0.9); 
      }
      100% { 
        transform: translate(-50%, -50%) rotate(0deg) scale(1); 
      }
    }

    @keyframes enterFromLeft {
      0% { 
        transform: translate(-150vw, -50%) rotate(-100deg) scaleX(1.3) scaleY(0.8); 
      }
      60% { 
        transform: translate(-60%, -50%) rotate(5deg) scaleX(1.2) scaleY(0.85); 
      }
      75% { 
        transform: translate(-50%, -50%) rotate(10deg) scaleX(0.7) scaleY(1.3); 
      }
      85% { 
        transform: translate(-50%, -45%) rotate(-3deg) scaleX(1.15) scaleY(0.9); 
      }
      100% { 
        transform: translate(-50%, -50%) rotate(0deg) scale(1); 
      }
    }

    @keyframes enterFromRight {
      0% { 
        transform: translate(150vw, -50%) rotate(100deg) scaleX(1.3) scaleY(0.8); 
      }
      60% { 
        transform: translate(-40%, -50%) rotate(-5deg) scaleX(1.2) scaleY(0.85); 
      }
      75% { 
        transform: translate(-50%, -50%) rotate(-10deg) scaleX(0.7) scaleY(1.3); 
      }
      85% { 
        transform: translate(-50%, -45%) rotate(3deg) scaleX(1.15) scaleY(0.9); 
      }
      100% { 
        transform: translate(-50%, -50%) rotate(0deg) scale(1); 
      }
    }

    /* Splashdown impact effect */
    #sock-wrapper.impact {
      animation: impactSquash 0.3s ease-out forwards;
    }

    @keyframes impactSquash {
      0% { 
        transform: translate(-50%, -50%) scaleY(1) scaleX(1); 
      }
      50% { 
        transform: translate(-50%, -48%) scaleY(0.6) scaleX(1.4); 
      }
      100% { 
        transform: translate(-50%, -50%) scaleY(1) scaleX(1); 
      }
    }

    /* Crying animation with realistic gentle shake */
    #sock-wrapper.crying {
      animation: cryShake 0.8s ease-in-out infinite;
    }

    @keyframes cryShake {
      0%, 100% { 
        transform: translate(-50%, -50%) rotate(0deg) scaleY(1) scaleX(1); 
      }
      25% { 
        transform: translate(-50.5%, -50%) rotate(-0.5deg) scaleY(0.995) scaleX(1.005); 
      }
      50% { 
        transform: translate(-50%, -49.8%) rotate(0deg) scaleY(1.005) scaleX(0.995); 
      }
      75% { 
        transform: translate(-49.5%, -50%) rotate(0.5deg) scaleY(0.995) scaleX(1.005); 
      }
    }

    /* Animate the sock's hands/arms while crying */
    #sock-wrapper.crying #sock-character ellipse:nth-last-of-type(3),
    #sock-wrapper.crying #sock-character ellipse:nth-last-of-type(2) {
      animation: armCrying 1.2s ease-in-out infinite;
    }

    @keyframes armCrying {
      0%, 100% {
        transform: translateY(0) rotate(0deg);
      }
      25% {
        transform: translateY(-2px) rotate(-3deg);
      }
      50% {
        transform: translateY(2px) rotate(0deg);
      }
      75% {
        transform: translateY(-1px) rotate(3deg);
      }
    }



    #sock-character {
      width: 100%;
      height: 100%;
      will-change: transform;
      filter: drop-shadow(0 8px 16px rgba(0,0,0,0.15));
    }

    #tears-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      will-change: transform;
      z-index: 6;
    }

    .tear {
      position: absolute;
      width: 20px;
      height: 30px;
      will-change: transform, opacity;
      animation: tearFall 1.2s ease-in infinite;
    }

    .tear svg {
      width: 100%;
      height: 100%;
    }

    @keyframes tearFall {
      0% {
        transform: translateY(0) scale(1) rotate(0deg);
        opacity: 0.8;
      }
      100% {
        transform: translateY(250px) scale(1.2) rotate(10deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div id="animation-container">
    <!-- Growing water puddle -->
    <svg id="water-puddle" viewBox="0 0 700 120" xmlns="http://www.w3.org/2000/svg">
      <!-- Main puddle shape -->
      <ellipse cx="350" cy="60" rx="340" ry="55" fill="url(#waterGradient)" opacity="0.85"/>
      <!-- Shimmer effect -->
      <ellipse cx="350" cy="50" rx="300" ry="40" fill="url(#shimmerGradient)" opacity="0.4"/>
      <!-- Ripples -->
      <ellipse cx="350" cy="60" rx="320" ry="50" fill="none" stroke="#5DADE2" stroke-width="2" opacity="0.3"/>
      <ellipse cx="350" cy="60" rx="280" ry="42" fill="none" stroke="#85C1E9" stroke-width="1.5" opacity="0.2"/>
      
      <defs>
        <radialGradient id="waterGradient">
          <stop offset="0%" style="stop-color:#5DADE2;stop-opacity:1" />
          <stop offset="70%" style="stop-color:#3498DB;stop-opacity:0.9" />
          <stop offset="100%" style="stop-color:#2E86C1;stop-opacity:0.7" />
        </radialGradient>
        <linearGradient id="shimmerGradient" x1="0%" y1="0%" x2="100%" y2="0%">
          <stop offset="0%" style="stop-color:#AED6F1;stop-opacity:0.3" />
          <stop offset="50%" style="stop-color:#EBF5FB;stop-opacity:0.8" />
          <stop offset="100%" style="stop-color:#AED6F1;stop-opacity:0.3" />
        </linearGradient>
      </defs>
    </svg>

    <h1 id="title">Lost Socks</h1>
    
    <!-- Speech bubble -->
    <div id="speech-bubble">
      I am a lost soul.<br>Can't find my partner. ðŸ˜¢
    </div>
    
    <div id="sock-wrapper">
      <!-- Pink Cartoon Sock Character SVG -->
      <svg id="sock-character" viewBox="0 0 120 180" xmlns="http://www.w3.org/2000/svg">
        <!-- Folded cuff top (lighter pink, doubled over look) -->
        <path d="M30,15 Q30,5 40,5 L80,5 Q90,5 90,15 L90,35 Q90,40 85,40 L35,40 Q30,40 30,35 Z" 
              fill="#FFD4E0" stroke="#B85C7A" stroke-width="2.5"/>
        <path d="M32,25 L88,25 L88,38 Q88,42 84,42 L36,42 Q32,42 32,38 Z" 
              fill="#FFC0D0" stroke="#B85C7A" stroke-width="2"/>
        
        <!-- Main sock body -->
        <path d="M35,40 L85,40 L85,120 Q85,135 75,145 L45,145 Q35,135 35,120 Z" 
              fill="#FF9EB5" stroke="#B85C7A" stroke-width="2.5"/>
        
        <!-- Horizontal stripes on foot -->
        <line x1="35" y1="95" x2="85" y2="95" stroke="#FFD4E0" stroke-width="4"/>
        <line x1="35" y1="105" x2="85" y2="105" stroke="#FFD4E0" stroke-width="3"/>
        <line x1="35" y1="113" x2="85" y2="113" stroke="#FFD4E0" stroke-width="3"/>
        
        <!-- Sad eyebrows (angled down) -->
        <path d="M42,60 L48,58" stroke="#6B8E9E" stroke-width="2.5" stroke-linecap="round"/>
        <path d="M78,60 L72,58" stroke="#6B8E9E" stroke-width="2.5" stroke-linecap="round"/>
        
        <!-- Large cartoon eyes (sad expression with tears) -->
        <ellipse cx="45" cy="68" rx="8" ry="10" fill="white" stroke="#333" stroke-width="2"/>
        <ellipse cx="75" cy="68" rx="8" ry="10" fill="white" stroke="#333" stroke-width="2"/>
        <circle cx="45" cy="70" r="4" fill="#333"/>
        <circle cx="75" cy="70" r="4" fill="#333"/>
        
        <!-- Sad mouth (open, crying) -->
        <ellipse cx="60" cy="88" rx="10" ry="12" fill="#E85A7B" stroke="#333" stroke-width="2"/>
        <path d="M50,85 Q60,80 70,85" stroke="#333" stroke-width="2.5" fill="none"/>
        
        <!-- White glove hands (sad/worried pose) -->
        <ellipse cx="20" cy="75" rx="12" ry="15" fill="white" stroke="#999" stroke-width="2"/>
        <ellipse cx="100" cy="75" rx="12" ry="15" fill="white" stroke="#999" stroke-width="2"/>
        
        <!-- Shadow at bottom -->
        <ellipse cx="60" cy="150" rx="35" ry="8" fill="#999" opacity="0.3"/>
      </svg>
      
      <!-- Tears container for dynamically generated tears -->
      <div id="tears-container"></div>
    </div>
  </div>

  <!-- Tear drop SVG template (hidden, used for cloning) -->
  <svg id="tear-template" style="display: none;" viewBox="0 0 10 15" xmlns="http://www.w3.org/2000/svg">
    <path d="M5,0 Q7,5 7,10 Q7,13 5,15 Q3,13 3,10 Q3,5 5,0 Z" 
          fill="#4A90E2" opacity="0.6"/>
  </svg>

  <script>
    // Dramatic Animation Orchestration - 6 Second Timeline
    document.addEventListener('DOMContentLoaded', () => {
      const sockWrapper = document.getElementById('sock-wrapper');
      const title = document.getElementById('title');
      const speechBubble = document.getElementById('speech-bubble');
      const waterPuddle = document.getElementById('water-puddle');
      const tearsContainer = document.getElementById('tears-container');
      const tearTemplate = document.getElementById('tear-template');
      
      // 0.0s: Select random entry direction
      const directions = ['top', 'bottom', 'left', 'right'];
      const randomDirection = directions[Math.floor(Math.random() * 4)];
      
      // 0.0-1.8s: The Entry - sock flies in with squash/stretch
      sockWrapper.classList.add(`enter-${randomDirection}`);
      
      // 1.8s: Splashdown - impact effect and start crying
      setTimeout(() => {
        sockWrapper.classList.remove(`enter-${randomDirection}`);
        sockWrapper.classList.add('impact');
        
        // After impact squash (0.3s), start continuous crying
        setTimeout(() => {
          sockWrapper.classList.remove('impact');
          sockWrapper.classList.add('crying');
          
          // Start puddle growth
          waterPuddle.classList.add('growing');
          
          // Generate continuous massive tears
          generateMassiveTears();
        }, 300);
      }, 1800);
      
      // 2.0s: The Confession - speech bubble pops up
      setTimeout(() => {
        speechBubble.classList.add('show');
      }, 2000);
      
      // 3.5s: Title Reveal - "Lost Socks" fades in dramatically
      setTimeout(() => {
        title.classList.add('fade-in');
      }, 3500);
      
      // Generate massive, continuous tears
      function generateMassiveTears() {
        let tearCounter = 0;
        
        // Create tears continuously every 200ms for dramatic effect
        const tearInterval = setInterval(() => {
          // Create 2 tears at once (one from each eye)
          for (let side = 0; side < 2; side++) {
            const tear = document.createElement('div');
            tear.className = 'tear';
            
            const tearSvg = tearTemplate.cloneNode(true);
            tearSvg.style.display = 'block';
            tearSvg.removeAttribute('id');
            tear.appendChild(tearSvg);
            
            // Position tears from left and right eyes
            const leftEye = 37 + Math.random() * 3;
            const rightEye = 60 + Math.random() * 3;
            tear.style.left = side === 0 ? `${leftEye}%` : `${rightEye}%`;
            tear.style.top = '38%';
            tear.style.animationDelay = `${Math.random() * 0.2}s`;
            
            tearsContainer.appendChild(tear);
            
            // Remove tear after animation completes
            setTimeout(() => {
              tear.remove();
            }, 1500);
          }
          
          tearCounter++;
          
          // Stop generating tears at 6s (before death)
          if (tearCounter > 21) {
            clearInterval(tearInterval);
          }
        }, 200);
      }
    });
  </script>
</body>
</html>
